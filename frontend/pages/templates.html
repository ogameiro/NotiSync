<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/NotiSync/frontend/assets/favicon.ico" type="image/x-icon">
    <title>Templates - NotiSync</title>
    <script src="https://kit.fontawesome.com/c990447127.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/NotiSync/frontend/css/basic.css">
    <link rel="stylesheet" href="/NotiSync/frontend/css/navigation.css">
    <link rel="stylesheet" href="/NotiSync/frontend/css/dashboard.css">
    <link rel="stylesheet" href="/NotiSync/frontend/css/templates.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <div class="sidebar-header">
            <img src="/NotiSync/frontend/assets/logo.png" alt="NotiSync Logo" class="logo">
            <h1>NotiSync</h1>
        </div>
        
        <ul class="nav-links">
            <li>
                <a href="/NotiSync/frontend/pages/dashboard.html">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li>
                <a href="/NotiSync/frontend/pages/notifications.html">
                    <i class="fas fa-bell"></i>
                    <span>Notificações</span>
                </a>
            </li>
            <li>
                <a href="/NotiSync/frontend/pages/create-notification.html">
                    <i class="fas fa-plus-circle"></i>
                    <span>Nova Notificação</span>
                </a>
            </li>
            <li class="active">
                <a href="/NotiSync/frontend/pages/templates.html">
                    <i class="fas fa-file-alt"></i>
                    <span>Templates</span>
                </a>
            </li>
            <li>
                <a href="/NotiSync/frontend/pages/history.html">
                    <i class="fas fa-history"></i>
                    <span>Histórico</span>
                </a>
            </li>
        </ul>

        <div class="sidebar-footer">
            <a href="#" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                <span>Sair</span>
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <header class="top-bar">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Pesquisar templates...">
            </div>
            <div class="user-menu">
                <span class="user-name">Utilizador</span>
                <i class="fas fa-user-circle avatar"></i>
            </div>
        </header>

        <div class="templates-content">
            <div class="page-header">
                <h2>Templates</h2>
                <button class="action-button" onclick="showNewTemplateModal()">
                    <i class="fas fa-plus"></i>
                    Novo Template
                </button>
            </div>

            <!-- Filtros -->
            <div class="filters-section">
                <div class="filter-group">
                    <label for="category-filter">Categoria</label>
                    <select id="category-filter">
                        <option value="">Todas</option>
                        <option value="system">Sistema</option>
                        <option value="marketing">Marketing</option>
                        <option value="updates">Atualizações</option>
                        <option value="alerts">Alertas</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="type-filter">Tipo</label>
                    <select id="type-filter">
                        <option value="">Todos</option>
                        <option value="email">Email</option>
                        <option value="sms">SMS</option>
                        <option value="push">Push</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="status-filter">Status</label>
                    <select id="status-filter">
                        <option value="">Todos</option>
                        <option value="active">Ativos</option>
                        <option value="inactive">Inativos</option>
                    </select>
                </div>
            </div>

            <!-- Lista de Templates -->
            <div class="templates-grid">
                <!-- Template Card -->
                <div class="template-card">
                    <div class="template-header">
                        <h3>Template de Alerta</h3>
                        <div class="template-actions">
                            <button class="icon-button" onclick="editTemplate(1)" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="icon-button" onclick="duplicateTemplate(1)" title="Duplicar">
                                <i class="fas fa-copy"></i>
                            </button>
                            <button class="icon-button" onclick="deleteTemplate(1)" title="Excluir">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="template-info">
                        <span class="template-type email">
                            <i class="fas fa-envelope"></i>
                            Email
                        </span>
                        <span class="template-category system">
                            Sistema
                        </span>
                    </div>
                    <p class="template-description">
                        Template padrão para envio de alertas do sistema via email.
                    </p>
                    <div class="template-footer">
                        <span class="template-status active">Ativo</span>
                        <span class="template-usage">Usado 156 vezes</span>
                    </div>
                </div>

                <!-- Template Card -->
                <div class="template-card">
                    <div class="template-header">
                        <h3>Notificação de Marketing</h3>
                        <div class="template-actions">
                            <button class="icon-button" onclick="editTemplate(2)" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="icon-button" onclick="duplicateTemplate(2)" title="Duplicar">
                                <i class="fas fa-copy"></i>
                            </button>
                            <button class="icon-button" onclick="deleteTemplate(2)" title="Excluir">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="template-info">
                        <span class="template-type push">
                            <i class="fas fa-bell"></i>
                            Push
                        </span>
                        <span class="template-category marketing">
                            Marketing
                        </span>
                    </div>
                    <p class="template-description">
                        Template para notificações de campanhas de marketing.
                    </p>
                    <div class="template-footer">
                        <span class="template-status active">Ativo</span>
                        <span class="template-usage">Usado 89 vezes</span>
                    </div>
                </div>

                <!-- Template Card -->
                <div class="template-card">
                    <div class="template-header">
                        <h3>Alerta de Sistema</h3>
                        <div class="template-actions">
                            <button class="icon-button" onclick="editTemplate(3)" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="icon-button" onclick="duplicateTemplate(3)" title="Duplicar">
                                <i class="fas fa-copy"></i>
                            </button>
                            <button class="icon-button" onclick="deleteTemplate(3)" title="Excluir">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="template-info">
                        <span class="template-type sms">
                            <i class="fas fa-comment"></i>
                            SMS
                        </span>
                        <span class="template-category alerts">
                            Alertas
                        </span>
                    </div>
                    <p class="template-description">
                        Template para envio de alertas críticos via SMS.
                    </p>
                    <div class="template-footer">
                        <span class="template-status inactive">Inativo</span>
                        <span class="template-usage">Usado 45 vezes</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal de Novo Template -->
    <div id="template-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Novo Template</h3>
                <button class="close-button" onclick="closeTemplateModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="template-form" class="template-form">
                <div class="form-group">
                    <label for="template-name">Nome do Template *</label>
                    <input type="text" id="template-name" name="name" required>
                </div>

                <div class="form-group">
                    <label for="template-description">Descrição</label>
                    <textarea id="template-description" name="description" rows="3"></textarea>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="template-type">Tipo *</label>
                        <select id="template-type" name="type" required>
                            <option value="">Selecione o tipo</option>
                            <option value="email">Email</option>
                            <option value="sms">SMS</option>
                            <option value="push">Push</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="template-category">Categoria *</label>
                        <select id="template-category" name="category" required>
                            <option value="">Selecione a categoria</option>
                            <option value="system">Sistema</option>
                            <option value="marketing">Marketing</option>
                            <option value="updates">Atualizações</option>
                            <option value="alerts">Alertas</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="template-content">Conteúdo do Template *</label>
                    <textarea id="template-content" name="content" rows="8" required></textarea>
                    <div class="template-variables">
                        <span class="variable-tag" onclick="insertTemplateVariable('{nome}')">{nome}</span>
                        <span class="variable-tag" onclick="insertTemplateVariable('{data}')">{data}</span>
                        <span class="variable-tag" onclick="insertTemplateVariable('{hora}')">{hora}</span>
                        <span class="variable-tag" onclick="insertTemplateVariable('{local}')">{local}</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="template-active" name="active" checked>
                        <span>Template Ativo</span>
                    </label>
                </div>

                <div class="modal-footer">
                    <button type="button" class="action-button secondary" onclick="closeTemplateModal()">
                        Cancelar
                    </button>
                    <button type="submit" class="action-button">
                        Salvar Template
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="/NotiSync/frontend/scripts/templates.js"></script>
    <script src="/NotiSync/frontend/scripts/notifications.js"></script>
</body>
</html> 